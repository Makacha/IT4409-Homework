<!--
Copyright 2018 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!-- [START gmail_quickstart] -->
<!DOCTYPE html>
<html>
<head>
    <title>Gmail API Quickstart</title>
    <meta charset="utf-8"/>
    <link href="index.css" rel="stylesheet">
    <script src="JS/contants.js"></script>
    <script src="JS/auth.js"></script>
    <script src="JS/messages.js"></script>
</head>
<body>

<!--Add buttons to initiate auth sequence and sign out-->
<div style=";display: flex; justify-content: center">
    <div style="width: 70%;display: flex;flex-direction:column;justify-content: center">
        <button id="authorize_button" style="visibility: hidden" onclick="oauthSignIn()">Authorize</button>
        <button id="signout_button" onclick="handleSignoutClick()" style="visibility: hidden">Sign Out</button>
        <button id="create_mail" onclick="viewCreateMailBox()" hidden>Create mail</button>
        <div id="createMailBox" hidden>
            <button onclick="viewListMail()">Quay lại</button>
            <h1> Gửi mail: </h1>
            <label for="To"> To: </label>
            <input type="text" id = "To">
            <label for="Subject"> Subject: </label>
            <input type="text" id = "Subject">
            <label for="Content">Content: </label>
            <textarea rows="6" cols="80" id = "Content"> </textarea>
            <label for="Attach"> Tệp đính kèm: </label>
            <input id = "Attach" type="file" multiple>
            <button onclick="sendMessage()"> Gửi mail </button>
        </div>
        <div id="listMailBox" hidden>
            <div style="width: 100%;display: flex; flex-direction: column; justify-content: center">
                <h2 style="text-align: center">Danh sách mail</h2>
                <div style="display: flex; flex-direction: row; justify-content: center">
                    <a href="#" onclick="prevPage()">Trang trước</a>
                    &nbsp;
                    <span id="currentPageNumber">0 - 50</span>
                    &nbsp;
                    <a href="#" onclick="nextPage()">Trang sau</a>
                </div>
            </div>
        </div>
        <table id="listMail" hidden>
            <tr>
                <th class="tdLeft">From</th>
                <th class="tdRight">Subject</th>
            </tr>
        </table>

        <div id="detailMailBox" hidden>
            <div style="width: 100%;display: flex; flex-direction: column; justify-content: center">
                <h2 style="text-align: center">Chi tiết mail</h2>
                <button onclick="viewListMail()">Quay lại</button>
            </div>
        </div>
        <div id="detailMail" hidden>
            <div>
                <h3 id="subjectValue" style="padding-left: 40px"></h3>
            </div>
            <div>
                <b>From:</b>
                <span id="fromValue"></span>
            </div>
            <div>
                <b>To:</b>
                <span id="toValue"></span>
            </div>
            <div>
                <b>Date:</b>
                <span id="dateValue"></span>
            </div>
            <div>
                <p id="messageValue"></p>
            </div>
        </div>
    </div>
</div>
<script defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
<script defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
</body>
</html>
<!-- [END gmail_quickstart] -->